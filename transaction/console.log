2020-05-17 22:05:43,927 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:05:43,931 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:05:43,941 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:05:43,988 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:05:44,035 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:05:44,064 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,065 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:05:44,065 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:05:44,071 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:05:44,078 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:05:44,080 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,083 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,093 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,093 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,094 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,094 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,095 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,096 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,098 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:05:44,100 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,100 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:05:44,102 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:05:44,105 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:05:44,105 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:05:44,159 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:05:44,345 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:05:44,346 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:05:44,347 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:05:44,365 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 12 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:05:44,365 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:05:44,406 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:05:44,462 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:05:44,492 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:05:44,492 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:05:44,492 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:05:44,492 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:05:44,494 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:05:44,494 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:05:44,497 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:05:44,499 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:05:44,501 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:05:44,502 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:05:44,509 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:05:45,520 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:05:45,522 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:05:45,575 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:05:45,589 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:05:45,597 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:05:45,653 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:05:45,655 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:05:45,676 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:05:45,711 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:05:45,713 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:05:45,715 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:05:45,716 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:05:45,743 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,744 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:05:45,746 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,746 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:05:45,749 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:05:45,756 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,756 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:05:45,757 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,757 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:05:45,763 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:05:45,769 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3a85a] was not registered for synchronization because synchronization is not active
2020-05-17 22:05:45,778 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2020-05-17 22:05:45,782 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@79145d5a] will not be managed by Spring
2020-05-17 22:05:45,785 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:05:45,821 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 11(Integer), 明明(String)
2020-05-17 22:05:45,879 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3a85a]
2020-05-17 22:05:45,909 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2020-05-17 22:05:45,910 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'DB2'
2020-05-17 22:05:45,914 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Derby'
2020-05-17 22:05:45,915 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'H2'
2020-05-17 22:05:45,915 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HDB'
2020-05-17 22:05:45,916 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HSQL'
2020-05-17 22:05:45,917 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Informix'
2020-05-17 22:05:45,917 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MS-SQL'
2020-05-17 22:05:45,918 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MySQL'
2020-05-17 22:05:45,918 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Oracle'
2020-05-17 22:05:45,919 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'PostgreSQL'
2020-05-17 22:05:45,919 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Sybase'
2020-05-17 22:05:45,920 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [com.alibaba.druid.pool.DruidDataSource@1b7c473a]
2020-05-17 22:05:45,922 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2020-05-17 22:05:45,925 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodesFactory - SQL error codes for 'MySQL' found
2020-05-17 22:05:45,925 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodesFactory - Caching SQL error codes for DataSource [com.alibaba.druid.pool.DruidDataSource@1b7c473a]: database product name is 'MySQL'
2020-05-17 22:05:45,925 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator - Translating SQLException with SQL state '23000', error code '1062', message [Duplicate entry '11' for key 'PRIMARY'] for task [
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '11' for key 'PRIMARY'
### The error may involve cn.com.fox.transaction.mapper.UserMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, name) values (?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '11' for key 'PRIMARY'
]
2020-05-17 22:05:45,926 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,926 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:05:45,927 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,927 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:05:45,928 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '11' for key 'PRIMARY'
### The error may involve cn.com.fox.transaction.mapper.UserMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: insert into user (id, name) values (?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '11' for key 'PRIMARY'
; Duplicate entry '11' for key 'PRIMARY'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '11' for key 'PRIMARY', mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:05:45,934 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:05:45,934 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@c1bd0be size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:05:45,935 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:05:45,937 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:05:44 CST 2020
2020-05-17 22:05:45,940 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:05:45,946 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:08:11,884 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:08:11,889 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:08:11,902 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:08:11,949 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:08:11,986 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:08:12,010 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,012 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:08:12,013 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:08:12,021 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:08:12,031 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:08:12,033 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,036 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,043 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,044 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,045 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,045 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,045 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,045 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,047 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:08:12,049 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,049 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:08:12,050 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:08:12,053 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:08:12,053 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:08:12,107 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:08:12,308 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:08:12,309 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:08:12,310 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:08:12,324 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:08:12,324 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:08:12,372 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:08:12,421 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:08:12,449 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:08:12,449 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:08:12,449 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:08:12,449 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:08:12,451 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:08:12,451 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:08:12,454 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:08:12,456 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:08:12,456 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:08:12,458 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:08:12,459 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:08:12,462 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:08:12,494 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:08:13,946 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:08:13,947 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:08:13,950 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:08:13,977 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:08:13,984 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:08:13,992 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:08:14,006 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:08:14,014 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:08:14,071 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:08:14,076 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:08:14,094 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:08:14,138 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:08:14,139 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:08:14,232 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:08:14,233 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:08:14,264 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:14,264 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:08:14,265 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:14,266 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:08:14,269 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:08:14,274 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:14,275 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:08:14,275 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:14,276 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:08:14,284 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:08:14,289 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:08:14,293 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:08:14,380 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:08:14,386 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:14,393 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:08:14,397 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:08:14,433 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 12(Integer), 明明(String)
2020-05-17 22:08:14,485 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:08:14,485 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:14,485 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Participating in existing transaction
2020-05-17 22:08:14,492 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:08:14,492 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:08:14,492 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 5(Integer), 10(Integer)
2020-05-17 22:08:14,561 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:08:14,562 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:14,569 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction
2020-05-17 22:08:14,569 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:14,573 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:08:14,573 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361c294e]
2020-05-17 22:08:14,573 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2020-05-17 22:08:15,091 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] will be managed by Spring
2020-05-17 22:08:15,091 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:08:15,093 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 10(Integer), 2020-05-17(Date)
2020-05-17 22:08:15,168 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:08:15,169 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361c294e]
2020-05-17 22:08:15,169 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361c294e]
2020-05-17 22:08:15,169 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361c294e]
2020-05-17 22:08:15,170 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:08:15,171 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:15,171 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:15,171 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:08:15,171 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:08:15,171 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:08:15,238 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:08:15,241 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:15,241 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:08:15,244 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:15,244 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:08:15,245 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:08:15,253 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:08:15,253 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:08:15,253 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:08:15,256 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:08:12 CST 2020
2020-05-17 22:08:15,265 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:08:15,281 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:14:50,754 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:14:50,759 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:14:50,769 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:14:50,807 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:14:50,840 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:14:50,857 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,858 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:14:50,858 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:14:50,862 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:14:50,869 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:14:50,871 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,873 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,881 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,881 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,881 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,882 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,882 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,882 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,884 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:14:50,885 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,885 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:14:50,886 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:14:50,890 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:14:50,890 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:14:50,934 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:14:51,125 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:14:51,126 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:14:51,127 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:14:51,143 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:14:51,144 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:14:51,184 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:14:51,231 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:14:51,262 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:14:51,262 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:14:51,262 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:14:51,262 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:14:51,264 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:14:51,264 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:14:51,267 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:14:51,269 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:14:51,269 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:14:51,271 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:14:51,272 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:14:51,275 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:14:51,302 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:14:52,120 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:14:52,121 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:14:52,124 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:14:52,152 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:14:52,160 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:14:52,169 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:14:52,181 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:14:52,188 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:14:52,243 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:14:52,246 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:14:52,264 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:14:52,304 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:14:52,306 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:14:52,392 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:14:52,393 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:14:52,423 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:52,423 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:14:52,426 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:52,426 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:14:52,430 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:14:52,435 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:52,435 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:14:52,436 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:52,436 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:14:52,445 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:14:52,451 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:14:52,457 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:14:52,489 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:14:52,494 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,502 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:14:52,505 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:14:52,534 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 13(Integer), 明明(String)
2020-05-17 22:14:52,585 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:14:52,586 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,586 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Participating in existing transaction
2020-05-17 22:14:52,591 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:14:52,591 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:14:52,592 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 6(Integer), 10(Integer)
2020-05-17 22:14:52,646 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:14:52,647 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,657 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:14:52,657 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,909 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] for JDBC transaction
2020-05-17 22:14:52,909 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] to manual commit
2020-05-17 22:14:52,925 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:14:52,925 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:14:52,926 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] will be managed by Spring
2020-05-17 22:14:52,926 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:14:52,927 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 11(Integer), 2020-05-17(Date)
2020-05-17 22:14:52,949 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:14:52,950 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:14:52,950 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:14:52,950 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:14:52,950 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:14:52,950 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:14:52,950 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e]
2020-05-17 22:14:52,992 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] after transaction
2020-05-17 22:14:52,993 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:14:52,994 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,994 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,994 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:14:52,994 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:14:52,994 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:14:53,012 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:14:53,014 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:53,014 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:14:53,016 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:53,017 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:14:53,017 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:14:53,023 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:14:53,023 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:14:53,024 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:14:53,025 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:14:51 CST 2020
2020-05-17 22:14:53,028 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:14:53,035 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:16:21,325 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:16:21,330 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:16:21,344 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:16:21,387 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:16:21,428 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:16:21,454 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,455 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:16:21,455 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:16:21,462 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:16:21,472 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:16:21,474 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,477 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,484 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,484 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,485 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,486 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,486 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,486 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,488 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:16:21,490 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,490 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:16:21,491 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:16:21,494 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:16:21,495 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:16:21,546 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:16:21,732 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:16:21,733 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:16:21,733 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:16:21,747 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:16:21,747 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:16:21,793 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:16:21,840 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:16:21,867 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:16:21,867 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:16:21,867 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:16:21,868 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:16:21,869 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:16:21,869 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:16:21,873 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:16:21,874 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:16:21,874 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:16:21,876 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:16:21,877 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:16:21,881 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:16:21,909 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:16:22,747 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:16:22,748 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:16:22,750 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:16:22,776 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:16:22,784 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:16:22,792 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:16:22,804 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:16:22,813 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:16:22,875 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:16:22,878 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:16:22,896 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:16:22,938 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:16:22,940 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:16:23,022 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:16:23,023 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:16:23,051 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,051 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:16:23,052 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,053 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:16:23,055 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:16:23,060 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,060 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:16:23,061 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,061 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:16:23,069 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:16:23,073 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:16:23,076 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:16:23,101 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:16:23,105 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,113 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:16:23,119 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:16:23,151 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 13(Integer), 明明(String)
2020-05-17 22:16:23,169 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:16:23,170 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,170 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Participating in existing transaction
2020-05-17 22:16:23,175 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:16:23,175 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:16:23,175 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 7(Integer), 10(Integer)
2020-05-17 22:16:23,213 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:16:23,213 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,225 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:16:23,226 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,432 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] for JDBC transaction
2020-05-17 22:16:23,432 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] to manual commit
2020-05-17 22:16:23,451 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:16:23,452 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:16:23,452 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] will be managed by Spring
2020-05-17 22:16:23,452 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:16:23,454 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 12(Integer), 2020-05-17(Date)
2020-05-17 22:16:23,484 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:16:23,485 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:16:23,485 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:16:23,485 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:16:23,486 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:16:23,486 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:16:23,486 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e]
2020-05-17 22:16:23,515 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] after transaction
2020-05-17 22:16:23,517 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:16:23,518 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,518 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,518 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:16:23,518 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:16:23,519 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:16:23,540 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:16:23,542 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,542 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:16:23,545 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,545 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:16:23,546 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:16:23,553 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:16:23,554 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:16:23,556 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:16:23,561 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:16:21 CST 2020
2020-05-17 22:16:23,569 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:16:23,576 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:17:42,872 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:17:42,876 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:17:42,886 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:17:42,927 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:17:42,960 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:17:42,980 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:17:42,980 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:17:42,981 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:17:42,985 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:17:42,991 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:17:42,994 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:17:42,998 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,008 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,008 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,009 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,009 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,010 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,010 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,011 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:17:43,013 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,013 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:17:43,015 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:17:43,017 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:17:43,017 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:17:43,063 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:17:43,259 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:17:43,260 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:17:43,261 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:17:43,277 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:17:43,277 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:17:43,317 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:17:43,366 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:17:43,392 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:17:43,392 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:17:43,392 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:17:43,392 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:17:43,394 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:17:43,394 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:17:43,397 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:17:43,399 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:17:43,399 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:17:43,401 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:17:43,402 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:17:43,406 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:17:43,433 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:17:44,259 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:17:44,261 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:17:44,263 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:17:44,298 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:17:44,321 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:17:44,353 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:17:44,375 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:17:44,385 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:17:44,452 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:17:44,464 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:17:44,494 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:17:44,537 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:17:44,539 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:17:44,627 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:17:44,628 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:17:44,661 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:44,661 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:17:44,663 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:44,663 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:17:44,666 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:17:44,671 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:44,672 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:17:44,672 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:44,672 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:17:44,680 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:17:44,683 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:17:44,687 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:17:45,633 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:17:45,637 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:17:45,646 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:17:45,649 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:17:45,682 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 13(Integer), 明明(String)
2020-05-17 22:17:45,709 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:17:45,709 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:17:45,710 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.ScoreServiceImpl.add]
2020-05-17 22:17:45,710 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:17:45,895 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@1cb3ec38] for JDBC transaction
2020-05-17 22:17:45,895 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1cb3ec38] to manual commit
2020-05-17 22:17:45,939 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:17:45,939 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:45,939 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1cb3ec38] will be managed by Spring
2020-05-17 22:17:45,940 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:17:45,940 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 7(Integer), 10(Integer)
2020-05-17 22:17:45,959 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:17:45,959 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:45,972 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:17:45,972 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:46,176 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@314b8f2d] for JDBC transaction
2020-05-17 22:17:46,176 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@314b8f2d] to manual commit
2020-05-17 22:17:46,195 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:17:46,196 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664a9613]
2020-05-17 22:17:46,196 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@314b8f2d] will be managed by Spring
2020-05-17 22:17:46,196 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:17:46,198 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 13(Integer), 2020-05-17(Date)
2020-05-17 22:17:46,232 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:17:46,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664a9613]
2020-05-17 22:17:46,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664a9613]
2020-05-17 22:17:46,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664a9613]
2020-05-17 22:17:46,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@664a9613]
2020-05-17 22:17:46,233 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:17:46,233 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@314b8f2d]
2020-05-17 22:17:46,256 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@314b8f2d] after transaction
2020-05-17 22:17:46,257 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:17:46,258 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:46,258 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:46,258 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:46,258 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403132fc]
2020-05-17 22:17:46,258 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:17:46,258 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@1cb3ec38]
2020-05-17 22:17:46,303 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1cb3ec38] after transaction
2020-05-17 22:17:46,304 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:17:46,304 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:17:46,304 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:17:46,305 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:17:46,305 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:17:46,305 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:17:46,344 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:17:46,346 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:46,346 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:17:46,349 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:46,349 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:17:46,350 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:17:46,357 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:17:46,357 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:17:46,358 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:17:46,365 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:17:43 CST 2020
2020-05-17 22:17:46,375 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:17:46,386 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:24:22,013 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:24:22,017 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:24:22,028 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:24:22,070 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:24:22,109 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:24:22,128 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,128 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:24:22,129 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:24:22,133 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:24:22,141 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:24:22,143 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,146 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,154 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,154 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,155 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,155 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,155 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,156 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,157 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:24:22,159 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,159 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:24:22,161 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:24:22,163 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:24:22,164 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:24:22,213 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:24:22,400 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:24:22,401 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:24:22,401 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:24:22,415 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:24:22,415 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:24:22,459 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:24:22,510 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:24:22,545 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:24:22,546 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:24:22,546 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:24:22,546 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:24:22,548 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:24:22,548 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:24:22,551 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:24:22,553 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:24:22,553 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:24:22,555 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:24:22,555 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:24:22,560 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:24:22,588 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:24:23,438 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:24:23,439 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:24:23,442 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:24:23,467 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:24:23,477 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:24:23,487 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:24:23,503 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:24:23,511 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:24:23,585 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:24:23,588 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:24:23,611 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:24:23,650 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:24:23,651 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:24:23,734 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:24:23,735 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:24:23,765 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:23,766 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:24:23,767 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:23,768 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:24:23,770 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:24:23,775 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:23,775 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:24:23,776 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:23,776 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:24:23,783 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:24:23,787 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:24:23,791 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:24:23,829 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:24:23,834 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:23,841 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:24:23,845 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:24:23,871 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 13(Integer), 明明(String)
2020-05-17 22:24:23,900 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:24:23,900 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:23,900 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating nested transaction with name [cn.com.fox.transaction.service.impl.ScoreServiceImpl.add]
2020-05-17 22:24:23,918 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:24:23,918 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:24:23,919 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 8(Integer), 10(Integer)
2020-05-17 22:24:23,964 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:24:23,964 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:23,972 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:24:23,972 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:27,960 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] for JDBC transaction
2020-05-17 22:24:27,960 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] to manual commit
2020-05-17 22:24:27,978 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:24:27,979 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:24:27,979 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] will be managed by Spring
2020-05-17 22:24:27,979 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:24:27,981 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 14(Integer), 2020-05-17(Date)
2020-05-17 22:24:28,026 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:24:28,026 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:24:28,027 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:24:28,027 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:24:28,027 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:24:28,028 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:24:28,028 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b]
2020-05-17 22:24:28,066 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] after transaction
2020-05-17 22:24:28,067 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:24:28,067 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:28,067 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing transaction savepoint
2020-05-17 22:24:28,068 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:28,068 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:24:28,068 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:24:28,068 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:24:28,098 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:24:28,100 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:28,100 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:24:28,103 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:28,104 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:24:28,104 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:24:28,110 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:24:28,110 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:24:28,110 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:24:28,115 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:24:22 CST 2020
2020-05-17 22:24:28,123 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:24:28,136 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:32:46,418 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:32:46,422 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:32:46,440 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:32:46,483 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:32:46,522 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:32:46,544 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,544 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:32:46,545 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:32:46,551 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:32:46,563 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:32:46,566 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,572 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,584 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,585 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,588 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,588 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,589 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,589 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,591 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:32:46,593 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,593 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:32:46,596 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:32:46,600 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:32:46,600 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:32:46,650 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:32:46,834 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:32:46,835 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:32:46,835 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:32:46,849 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:32:46,849 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:32:46,892 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:32:46,939 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:32:46,966 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:32:46,967 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:32:46,967 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:32:46,967 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:32:46,968 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:32:46,968 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:32:46,971 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:32:46,973 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:32:46,973 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:32:46,974 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:32:46,975 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:32:46,979 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:32:47,004 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:32:49,474 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:32:49,475 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:32:49,480 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:32:49,514 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:32:49,521 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:32:49,530 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:32:49,543 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:32:49,551 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:32:49,645 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:32:49,648 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:32:49,671 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:32:49,709 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:32:49,710 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:32:49,796 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:32:49,798 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:32:49,840 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:49,840 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:32:49,842 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:49,842 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:32:49,845 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:32:49,850 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:49,850 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:32:49,851 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:49,851 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:32:49,863 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:32:49,869 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:32:49,876 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:32:49,911 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:32:49,922 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:49,935 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:32:49,943 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:32:49,987 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 13(Integer), 明明(String)
2020-05-17 22:32:50,008 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:32:50,008 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:50,009 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Participating in existing transaction
2020-05-17 22:32:50,017 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:32:50,017 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:32:50,018 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 8(Integer), 10(Integer)
2020-05-17 22:32:50,046 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:32:50,047 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:50,060 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:32:50,061 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:50,286 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] for JDBC transaction
2020-05-17 22:32:50,286 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] to manual commit
2020-05-17 22:32:50,307 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:32:50,307 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:32:50,307 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] will be managed by Spring
2020-05-17 22:32:50,307 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:32:50,310 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 15(Integer), 2020-05-17(Date)
2020-05-17 22:32:50,368 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:32:50,368 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:32:50,368 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:32:50,368 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:32:50,368 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7859e786]
2020-05-17 22:32:50,368 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:32:50,368 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e]
2020-05-17 22:32:50,411 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@361c294e] after transaction
2020-05-17 22:32:50,412 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:32:50,412 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:50,412 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:50,412 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:32:50,412 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:32:50,413 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:32:50,437 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:32:50,439 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:50,439 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:32:50,442 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:50,443 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:32:50,444 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:32:50,451 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:32:50,451 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:32:50,452 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:32:50,454 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:32:46 CST 2020
2020-05-17 22:32:50,457 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:32:50,465 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:33:39,160 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:33:39,164 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:33:39,180 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:33:39,223 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:33:39,262 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:33:39,290 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,292 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:33:39,295 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:33:39,305 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:33:39,315 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:33:39,318 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,321 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,333 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,334 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,336 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,336 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,337 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,337 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,342 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:33:39,345 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,345 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:33:39,347 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:33:39,349 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:33:39,350 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:33:39,406 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:33:39,600 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:33:39,601 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:33:39,601 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:33:39,615 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:33:39,615 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:33:39,659 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:33:39,711 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:33:39,739 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:33:39,739 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:33:39,739 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:33:39,740 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:33:39,741 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:33:39,741 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:33:39,744 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:33:39,746 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:33:39,746 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:33:39,748 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:33:39,749 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:33:39,752 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:33:39,780 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:33:40,649 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:33:40,651 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:33:40,654 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:33:40,686 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:33:40,700 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:33:40,714 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:33:40,728 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:33:40,735 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:33:40,809 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:33:40,813 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:33:40,833 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:33:40,875 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:33:40,877 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:33:40,968 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:33:40,969 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:33:40,993 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:40,994 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:33:40,995 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:40,995 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:33:40,999 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:33:41,004 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:41,004 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:33:41,005 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:41,005 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:33:41,011 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:33:41,015 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5241cf67] was not registered for synchronization because synchronization is not active
2020-05-17 22:33:41,023 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2020-05-17 22:33:41,027 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3d8bbcdc] will not be managed by Spring
2020-05-17 22:33:41,030 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:33:41,057 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 13(Integer), 明明(String)
2020-05-17 22:33:41,103 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:33:41,104 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5241cf67]
2020-05-17 22:33:41,125 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:33:41,126 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dae245]
2020-05-17 22:33:41,128 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2020-05-17 22:33:41,129 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@3d8bbcdc] will be managed by Spring
2020-05-17 22:33:41,130 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:33:41,130 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 8(Integer), 10(Integer)
2020-05-17 22:33:41,161 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:33:41,162 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dae245]
2020-05-17 22:33:41,174 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dae245]
2020-05-17 22:33:41,175 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2020-05-17 22:33:41,492 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@664a9613] for JDBC transaction
2020-05-17 22:33:41,492 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@664a9613] to manual commit
2020-05-17 22:33:41,511 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:33:41,511 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5118388b]
2020-05-17 22:33:41,512 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@664a9613] will be managed by Spring
2020-05-17 22:33:41,512 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:33:41,513 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 16(Integer), 2020-05-17(Date)
2020-05-17 22:33:41,543 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:33:41,543 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5118388b]
2020-05-17 22:33:41,544 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5118388b]
2020-05-17 22:33:41,544 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5118388b]
2020-05-17 22:33:41,544 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5118388b]
2020-05-17 22:33:41,544 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:33:41,545 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@664a9613]
2020-05-17 22:33:41,571 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@664a9613] after transaction
2020-05-17 22:33:41,572 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:33:41,572 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dae245]
2020-05-17 22:33:41,572 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dae245]
2020-05-17 22:33:41,572 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dae245]
2020-05-17 22:33:41,574 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:41,575 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:33:41,577 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:41,578 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:33:41,578 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:33:41,585 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:33:41,585 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@21d8bcbe size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:33:41,587 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:33:41,593 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:33:39 CST 2020
2020-05-17 22:33:41,600 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:33:41,608 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:35:28,374 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:35:28,381 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:35:28,394 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:35:28,437 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:35:28,470 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:35:28,488 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,489 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:35:28,490 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:35:28,494 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:35:28,504 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:35:28,512 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,524 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,536 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,536 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,538 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,538 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,539 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,539 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,541 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:35:28,542 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,542 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:35:28,544 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:35:28,546 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:35:28,547 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:35:28,592 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:35:28,784 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:35:28,785 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:35:28,786 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:35:28,800 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:35:28,800 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:35:28,841 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:35:28,890 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:35:28,917 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:35:28,918 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:35:28,918 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:35:28,918 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:35:28,919 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:35:28,920 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:35:28,922 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:35:28,924 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:35:28,924 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:35:28,926 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:35:28,927 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:35:28,930 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:35:28,955 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:35:29,742 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:35:29,743 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:35:29,745 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:35:29,770 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:35:29,778 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:35:29,787 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:35:29,801 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:35:29,808 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:35:29,885 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:35:29,889 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:35:29,910 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:35:29,950 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:35:29,951 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:35:30,035 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:35:30,036 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:35:30,064 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:30,064 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:35:30,066 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:30,066 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:35:30,069 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:35:30,074 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:30,074 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:35:30,075 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:30,075 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:35:30,082 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:35:30,086 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:35:30,090 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:35:30,156 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:35:30,161 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:30,168 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:35:30,171 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:35:30,197 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 14(Integer), 明明(String)
2020-05-17 22:35:30,225 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:35:30,225 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:30,226 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating nested transaction with name [cn.com.fox.transaction.service.impl.ScoreServiceImpl.add]
2020-05-17 22:35:30,277 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:35:30,278 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:35:30,278 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 9(Integer), 10(Integer)
2020-05-17 22:35:30,326 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - <==    Updates: 1
2020-05-17 22:35:30,327 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:30,333 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:35:30,334 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:32,114 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] for JDBC transaction
2020-05-17 22:35:32,114 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] to manual commit
2020-05-17 22:35:32,132 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:35:32,132 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:35:32,132 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] will be managed by Spring
2020-05-17 22:35:32,132 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:35:32,134 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 17(Integer), 2020-05-17(Date)
2020-05-17 22:35:32,187 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:35:32,188 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:35:32,188 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:35:32,188 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:35:32,188 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15a902e7]
2020-05-17 22:35:32,188 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:35:32,188 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b]
2020-05-17 22:35:32,232 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5118388b] after transaction
2020-05-17 22:35:32,233 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:35:32,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:32,233 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing transaction savepoint
2020-05-17 22:35:32,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:32,233 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:35:32,234 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
2020-05-17 22:35:32,234 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:35:32,253 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:35:32,255 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:32,255 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:35:32,257 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:32,257 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:35:32,258 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = java.lang.RuntimeException: spring事务 回滚测试, mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:35:32,263 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:35:32,264 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:35:32,264 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:35:32,265 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:35:28 CST 2020
2020-05-17 22:35:32,268 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:35:32,273 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2020-05-17 22:37:01,967 [DEBUG] [main] org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class cn.com.fox.TranslationTest]
2020-05-17 22:37:01,970 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
2020-05-17 22:37:01,976 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
2020-05-17 22:37:02,006 [DEBUG] [main] org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [cn.com.fox.TranslationTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
2020-05-17 22:37:02,035 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to process context configuration [ContextConfigurationAttributes@1068e947 declaringClass = 'cn.com.fox.TranslationTest', classes = '{}', locations = '{classpath:spring/*.xml}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
2020-05-17 22:37:02,048 [DEBUG] [main] org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,049 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [cn.com.fox.TranslationTest]: using defaults.
2020-05-17 22:37:02,049 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-17 22:37:02,053 [DEBUG] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
2020-05-17 22:37:02,057 [INFO ] [main] org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@27c6e487, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@49070868, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6385cb26, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38364841, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28c4711c, org.springframework.test.context.event.EventPublishingTestExecutionListener@59717824]
2020-05-17 22:37:02,059 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,061 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,069 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,069 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,070 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,070 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,070 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,070 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,072 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:37:02,073 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,073 [DEBUG] [main] org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [cn.com.fox.TranslationTest]
2020-05-17 22:37:02,074 [DEBUG] [main] o.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]]].
2020-05-17 22:37:02,077 [DEBUG] [main] org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericXmlContextLoader to load context from [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
2020-05-17 22:37:02,077 [DEBUG] [main] org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2020-05-17 22:37:02,114 [DEBUG] [main] org.springframework.core.env.StandardEnvironment - Activating profiles []
2020-05-17 22:37:02,293 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/ScoreServiceImpl.class]
2020-05-17 22:37:02,294 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/SystemLogServiceImpl.class]
2020-05-17 22:37:02,294 [DEBUG] [main] org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/service/impl/UserServiceImpl.class]
2020-05-17 22:37:02,306 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 17 bean definitions from file [/Users/paul/code/fox/transaction/target/test-classes/spring/spring-persistence.xml]
2020-05-17 22:37:02,306 [DEBUG] [main] org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@75c072cb
2020-05-17 22:37:02,329 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2020-05-17 22:37:02,371 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.mybatis.spring.mapper.MapperScannerConfigurer#0'
2020-05-17 22:37:02,393 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/ScoreMapper.class]
2020-05-17 22:37:02,393 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/SystemLogMapper.class]
2020-05-17 22:37:02,394 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/paul/code/fox/transaction/target/classes/cn/com/fox/transaction/mapper/UserMapper.class]
2020-05-17 22:37:02,394 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'scoreMapper' and 'cn.com.fox.transaction.mapper.ScoreMapper' mapperInterface
2020-05-17 22:37:02,395 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'systemLogMapper' and 'cn.com.fox.transaction.mapper.SystemLogMapper' mapperInterface
2020-05-17 22:37:02,395 [DEBUG] [main] org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'cn.com.fox.transaction.mapper.UserMapper' mapperInterface
2020-05-17 22:37:02,398 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
2020-05-17 22:37:02,399 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionalEventListenerFactory'
2020-05-17 22:37:02,400 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
2020-05-17 22:37:02,402 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
2020-05-17 22:37:02,403 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
2020-05-17 22:37:02,407 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.aop.config.internalAutoProxyCreator'
2020-05-17 22:37:02,429 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'dataSource'
2020-05-17 22:37:03,273 [INFO ] [main] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-17 22:37:03,274 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.config.internalTransactionAdvisor'
2020-05-17 22:37:03,276 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0'
2020-05-17 22:37:03,302 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.transaction.interceptor.TransactionInterceptor#0'
2020-05-17 22:37:03,313 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'transactionManager'
2020-05-17 22:37:03,324 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'sqlSessionFactory'
2020-05-17 22:37:03,331 [DEBUG] [main] org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2020-05-17 22:37:03,341 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'configuration' or 'configLocation' not specified, using default MyBatis Configuration
2020-05-17 22:37:03,409 [DEBUG] [main] org.mybatis.spring.SqlSessionFactoryBean - Property 'mapperLocations' was not specified or no matching resources found
2020-05-17 22:37:03,413 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreServiceImpl'
2020-05-17 22:37:03,429 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'scoreMapper'
2020-05-17 22:37:03,464 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userServiceImpl'
2020-05-17 22:37:03,465 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'userMapper'
2020-05-17 22:37:03,549 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogServiceImpl'
2020-05-17 22:37:03,550 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'systemLogMapper'
2020-05-17 22:37:03,583 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext [1975546571] in cache under key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:03,583 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
2020-05-17 22:37:03,585 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:03,585 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
2020-05-17 22:37:03,589 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:37:03,594 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:03,594 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
2020-05-17 22:37:03,595 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:03,595 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
2020-05-17 22:37:03,601 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [cn.com.fox.transaction.service.impl.UserServiceImpl.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2020-05-17 22:37:03,606 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] for JDBC transaction
2020-05-17 22:37:03,609 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] to manual commit
2020-05-17 22:37:03,639 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:37:03,643 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:03,651 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] will be managed by Spring
2020-05-17 22:37:03,656 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==>  Preparing: insert into user (id, name) values (?, ?) 
2020-05-17 22:37:03,688 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - ==> Parameters: 14(Integer), 明明(String)
2020-05-17 22:37:03,708 [DEBUG] [main] cn.com.fox.transaction.mapper.UserMapper.insertSelective - <==    Updates: 1
2020-05-17 22:37:03,708 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:03,708 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating nested transaction with name [cn.com.fox.transaction.service.impl.ScoreServiceImpl.add]
2020-05-17 22:37:03,739 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751] from current transaction
2020-05-17 22:37:03,740 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==>  Preparing: insert into score (id, total) values (?, ?) 
2020-05-17 22:37:03,741 [DEBUG] [main] cn.com.fox.transaction.mapper.ScoreMapper.add - ==> Parameters: 8(Integer), 10(Integer)
2020-05-17 22:37:03,778 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:03,807 [DEBUG] [main] org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 11 bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2020-05-17 22:37:03,808 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'DB2'
2020-05-17 22:37:03,812 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Derby'
2020-05-17 22:37:03,812 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'H2'
2020-05-17 22:37:03,813 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HDB'
2020-05-17 22:37:03,814 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'HSQL'
2020-05-17 22:37:03,815 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Informix'
2020-05-17 22:37:03,815 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MS-SQL'
2020-05-17 22:37:03,816 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'MySQL'
2020-05-17 22:37:03,816 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Oracle'
2020-05-17 22:37:03,817 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'PostgreSQL'
2020-05-17 22:37:03,817 [DEBUG] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'Sybase'
2020-05-17 22:37:03,818 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [com.alibaba.druid.pool.DruidDataSource@79c7532f]
2020-05-17 22:37:03,820 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodesFactory - SQL error codes for 'MySQL' found
2020-05-17 22:37:03,820 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodesFactory - Caching SQL error codes for DataSource [com.alibaba.druid.pool.DruidDataSource@79c7532f]: database product name is 'MySQL'
2020-05-17 22:37:03,820 [DEBUG] [main] org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator - Translating SQLException with SQL state '23000', error code '1062', message [Duplicate entry '8' for key 'PRIMARY'] for task [
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '8' for key 'PRIMARY'
### The error may involve cn.com.fox.transaction.mapper.ScoreMapper.add-Inline
### The error occurred while setting parameters
### SQL: insert into score (id, total) values (?, ?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '8' for key 'PRIMARY'
]
2020-05-17 22:37:03,827 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Suspending current transaction, creating new transaction with name [cn.com.fox.transaction.service.impl.SystemLogServiceImpl.add]
2020-05-17 22:37:03,827 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization suspending SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:04,054 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mysql.cj.jdbc.ConnectionImpl@142eef62] for JDBC transaction
2020-05-17 22:37:04,055 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@142eef62] to manual commit
2020-05-17 22:37:04,096 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2020-05-17 22:37:04,097 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9cc6cb]
2020-05-17 22:37:04,097 [DEBUG] [main] org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@142eef62] will be managed by Spring
2020-05-17 22:37:04,097 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==>  Preparing: insert into system_log (id, log_date) values (?, ?) 
2020-05-17 22:37:04,099 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - ==> Parameters: 18(Integer), 2020-05-17(Date)
2020-05-17 22:37:04,120 [DEBUG] [main] cn.com.fox.transaction.mapper.SystemLogMapper.add - <==    Updates: 1
2020-05-17 22:37:04,120 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9cc6cb]
2020-05-17 22:37:04,121 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9cc6cb]
2020-05-17 22:37:04,121 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9cc6cb]
2020-05-17 22:37:04,121 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9cc6cb]
2020-05-17 22:37:04,121 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:37:04,121 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@142eef62]
2020-05-17 22:37:04,144 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@142eef62] after transaction
2020-05-17 22:37:04,145 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Resuming suspended transaction after completion of inner transaction
2020-05-17 22:37:04,145 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization resuming SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:04,145 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing transaction savepoint
2020-05-17 22:37:04,145 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:04,145 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:04,145 [DEBUG] [main] org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6865c751]
2020-05-17 22:37:04,145 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
2020-05-17 22:37:04,145 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67]
2020-05-17 22:37:04,174 [DEBUG] [main] org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5241cf67] after transaction
2020-05-17 22:37:04,177 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:04,177 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
2020-05-17 22:37:04,178 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:04,179 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
2020-05-17 22:37:04,191 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = cn.com.fox.TranslationTest@c540f5a, testMethod = testReg@TranslationTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:37:04,193 [DEBUG] [main] org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [1975546571] from cache with key [[MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
2020-05-17 22:37:04,193 [DEBUG] [main] org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7383eae2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2020-05-17 22:37:04,194 [DEBUG] [main] o.s.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@6b53e23f testClass = TranslationTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@64d2d351 testClass = TranslationTest, locations = '{classpath:spring/*.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
2020-05-17 22:37:04,195 [DEBUG] [SpringContextShutdownHook] org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@75c072cb, started on Sun May 17 22:37:02 CST 2020
2020-05-17 22:37:04,197 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2020-05-17 22:37:04,205 [INFO ] [SpringContextShutdownHook] com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
